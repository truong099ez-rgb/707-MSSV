<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Bài tập 2 - Form đăng ký</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        form div { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input[type="text"], input[type="email"], input[type="password"] { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px; }
        button { background: #3498db; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; width: 100%; }
        button:hover { background: #2980b9; }
    </style>
</head>
<body>
    <div class="container" style="max-width: 500px;">
        <h2>Đăng ký thành viên</h2>
        <form id="regForm">
            <div><label>Họ tên:</label><input type="text" id="name" required></div>
            <div><label>Email:</label><input type="email" id="email" required></div>
            <div><label>Mật khẩu:</label><input type="password" id="pass" required></div>
            <div><input type="checkbox" id="agree"> <label style="display:inline;">Đồng ý điều khoản</label></div>
            <button type="submit">Đăng ký</button>
        </form>
        <p id="msg" class="error" style="color: green; display: none;">Đăng ký thành công!</p>
    </div>

    <script>
        document.getElementById('regForm').onsubmit = function(e) {
            e.preventDefault();
            const email = document.getElementById('email').value;
            const pass = document.getElementById('pass').value;
            const agree = document.getElementById('agree').checked;

            // Regex: 8 ký tự, có hoa, thường, số
            const passRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/;

            if (!passRegex.test(pass)) {
                alert("Mật khẩu phải từ 8 ký tự, gồm chữ hoa, chữ thường và số!");
                return;
            }
            if (!agree) {
                alert("Bạn phải đồng ý điều khoản!");
                return;
            }

            localStorage.setItem('userData', JSON.stringify({ email }));
            document.getElementById('msg').style.display = 'block';
            this.reset();
        };
    </script>
</body>
</html>